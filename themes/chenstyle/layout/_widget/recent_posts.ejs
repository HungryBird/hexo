<div class="block-name">
    文章
</div>
<div class="article">
    <!-- <button class="block-name">
        <strong>文章</strong>
        更多
        <i class="fa fa-angle-double-right" style="color: #fff;"></i>
    </button> -->

    <% page.posts.forEach((post, index) => { %>
        <section>
            <div class="title">
                <a href="<%- url_for(post.path) %>">
                    <%- post.title %>
                </a>
            </div>
            <p>
                <div class="post">
                    <%- post.excerpt %>
                        <a href="<%- url_for(post.path) %>"><i class="fa fa-angle-double-right see-more"></i></a>
                </div>
                <div class="post-bottom">
                    <time>
                        <%- post.updated > post.date ? '更新于' : '发表于' %><%- formatDate(post.updated) %>
                    </time>
                    <% if(post.tags.data && post.tags.data.length > 0) { %>
                        <ul class="tags-wrap">
                            <% for(const tag of post.tags.data) { %>
                                <li>
                                    <i class="fa fa-tag post-tag"><%- tag.name %></i>
                                </li>
                                <% } %>
                        </ul>
                        <% } %>
                </div>

            </p>
        </section>
        <% })%>
</div>

<% function formatDate(time) { %>
    <% const date = new Date(time);  %>
        <% const yy = date.getFullYear();  %>
            <% const MM = addZero(date.getMonth() + 1);  %>
                <% const dd = addZero(date.getDate()); %>
                    <% const hh = addZero(date.getHours()); %>
                        <% const mm = addZero(date.getMinutes()); %>
                            <% return `${yy}-${MM}-${dd} ${hh}:${mm}` %>
                                <% } %>
                                    <% function addZero(value) { %>
                                        <% return value < 10 ? '0' + value : value; %>
                                            <% } %>